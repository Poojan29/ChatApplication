@model IEnumerable<ChatApp.Models.User>
@{
    ViewBag.Title = "Users";

    Func<string, string> getColorClass = (username) =>
    {
        var colors = new[] { "bg-primary", "bg-success", "bg-danger", "bg-warning", "bg-info", "bg-secondary", "bg-dark",
"bg-purple", "bg-teal", "bg-orange" };
        var index = Math.Abs(username.GetHashCode()) % colors.Length;
        return colors[index];
    };
}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

<style>
    body {
        background-color: #121212;
        color: white;
        font-family: sans-serif;
    }

    .avatar-circle {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        font-weight: bold;
        font-size: 1.2rem;
        text-transform: uppercase;
        flex-shrink: 0;
    }

    .list-group-item {
        border: none;
        background-color: #1e1e1e;
        transition: background-color 0.3s;
    }

    .list-group-item:hover {
        background-color: #2a2a2a;
    }

    /* Custom colors */
    .bg-purple {
        background-color: #9b59b6 !important;
    }

    .bg-teal {
        background-color: #1abc9c !important;
    }

    .bg-orange {
        background-color: #e67e22 !important;
    }
</style>

<h2>Welcome, @User?.Identity?.Name</h2>
<a asp-controller="Account" asp-action="Logout" class="btn btn-danger mb-2">Logout</a>

<h4>Chats</h4>

<ul class="list-group">
    @foreach (var user in Model)
    {
        var colorClass = getColorClass(user.Username);
        <li class="list-group-item list-group-item-dark d-flex align-items-center gap-3">
            <!-- Avatar -->
            <div class="avatar-circle @colorClass text-white d-flex justify-content-center align-items-center">
                @user.Username?[0].ToString().ToUpper()
            </div>

            <!-- Username -->
            <a asp-action="Chat" asp-route-username="@user.Username" class="flex-grow-1 text-decoration-none text-light">
                @user.Username
                <div class="flex-grow-1 text-left"></div>
            </a>

            <!-- Arrow Icon -->
            <div class="text-muted">
                <i class="fas fa-chevron-right"></i>
            </div>
        </li>
    }
</ul>
